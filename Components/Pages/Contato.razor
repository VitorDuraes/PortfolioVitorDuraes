@page "/contato"
@using PortfolioVitorDuraes.Services
@inject PortfolioService PortfolioService

<PageTitle>Contato - Vitor Dur√£es</PageTitle>

<div class="container">
    <section class="section">
        <h1 class="section-title">Entre em Contato</h1>
        <p style="text-align: center; font-size: 1.1rem; color: #666; max-width: 600px; margin: 0 auto 3rem;">
            Estou sempre aberto a novas oportunidades, colabora√ß√µes e conversas sobre tecnologia. Vamos nos conectar!
        </p>
        
        <div class="grid grid-2" style="max-width: 1000px; margin: 0 auto;">
            <!-- Informa√ß√µes de Contato -->
            <div class="card fade-in-up">
                <h3 class="card-title" style="margin-bottom: 2rem;">Informa√ß√µes de Contato</h3>
                
                <div style="margin-bottom: 2rem;">
                    <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1.5rem;">
                        <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.2rem;">
                            üìß
                        </div>
                        <div>
                            <h4 style="margin-bottom: 0.3rem; color: #2c3e50;">Email</h4>
                            <a href="mailto:@contato.Email" style="color: #667eea; text-decoration: none; font-weight: 500;">@contato.Email</a>
                        </div>
                    </div>
                    
                    <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1.5rem;">
                        <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.2rem;">
                            üì±
                        </div>
                        <div>
                            <h4 style="margin-bottom: 0.3rem; color: #2c3e50;">Telefone</h4>
                            <a href="tel:@contato.Telefone.Replace(" ", "").Replace("(", "").Replace(")", "").Replace("-", "")" style="color: #667eea; text-decoration: none; font-weight: 500;">@contato.Telefone</a>
                        </div>
                    </div>
                    
                    <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1.5rem;">
                        <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.2rem;">
                            üìç
                        </div>
                        <div>
                            <h4 style="margin-bottom: 0.3rem; color: #2c3e50;">Localiza√ß√£o</h4>
                            <p style="color: #555; margin: 0; font-weight: 500;">@contato.Localizacao</p>
                        </div>
                    </div>
                </div>
                
                <div style="border-top: 1px solid #eee; padding-top: 2rem;">
                    <h4 style="margin-bottom: 1rem; color: #2c3e50;">Redes Sociais</h4>
                    <div style="display: flex; gap: 1rem;">
                        <a href="https://@contato.LinkedIn" target="_blank" class="btn btn-secondary" style="flex: 1; display: flex; align-items: center; justify-content: center; gap: 0.5rem;">
                            üíº LinkedIn
                        </a>
                        <a href="https://@contato.GitHub" target="_blank" class="btn btn-secondary" style="flex: 1; display: flex; align-items: center; justify-content: center; gap: 0.5rem;">
                            üìÅ GitHub
                        </a>
                    </div>
                </div>
            </div>
            
            <!-- Formul√°rio de Contato -->
            <div class="card fade-in-up">
                <h3 class="card-title" style="margin-bottom: 2rem;">Envie uma Mensagem</h3>
                
                <form @onsubmit="EnviarMensagem" @onsubmit:preventDefault="true">
                    <div style="margin-bottom: 1.5rem;">
                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: #2c3e50;">Nome *</label>
                        <input @bind="formulario.Nome" type="text" required 
                               style="width: 100%; padding: 0.75rem; border: 2px solid #e9ecef; border-radius: 8px; font-size: 1rem; transition: border-color 0.3s ease;"
                               placeholder="Seu nome completo" />
                    </div>
                    
                    <div style="margin-bottom: 1.5rem;">
                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: #2c3e50;">Email *</label>
                        <input @bind="formulario.Email" type="email" required 
                               style="width: 100%; padding: 0.75rem; border: 2px solid #e9ecef; border-radius: 8px; font-size: 1rem; transition: border-color 0.3s ease;"
                               placeholder="seu.email@exemplo.com" />
                    </div>
                    
                    <div style="margin-bottom: 1.5rem;">
                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: #2c3e50;">Assunto *</label>
                        <input @bind="formulario.Assunto" type="text" required 
                               style="width: 100%; padding: 0.75rem; border: 2px solid #e9ecef; border-radius: 8px; font-size: 1rem; transition: border-color 0.3s ease;"
                               placeholder="Assunto da mensagem" />
                    </div>
                    
                    <div style="margin-bottom: 2rem;">
                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: #2c3e50;">Mensagem *</label>
                        <textarea @bind="formulario.Mensagem" required rows="5"
                                  style="width: 100%; padding: 0.75rem; border: 2px solid #e9ecef; border-radius: 8px; font-size: 1rem; resize: vertical; transition: border-color 0.3s ease;"
                                  placeholder="Descreva sua mensagem, projeto ou oportunidade..."></textarea>
                    </div>
                    
                    <button type="submit" class="btn btn-primary" style="width: 100%; font-size: 1.1rem; padding: 1rem;">
                        @if (enviandoMensagem)
                        {
                            <span>Enviando... ‚è≥</span>
                        }
                        else
                        {
                            <span>Enviar Mensagem üì§</span>
                        }
                    </button>
                </form>
                
                @if (!string.IsNullOrEmpty(mensagemStatus))
                {
                    <div style="margin-top: 1rem; padding: 1rem; border-radius: 8px; @(mensagemSucesso ? "background-color: #d4edda; color: #155724; border: 1px solid #c3e6cb;" : "background-color: #f8d7da; color: #721c24; border: 1px solid #f5c6cb;")">
                        @mensagemStatus
                    </div>
                }
            </div>
        </div>
        
        <!-- Se√ß√£o de Disponibilidade -->
        <div style="margin-top: 4rem;">
            <div class="card" style="max-width: 800px; margin: 0 auto; text-align: center;">
                <h3 style="margin-bottom: 1.5rem; color: #2c3e50;">Disponibilidade</h3>
                <div class="grid grid-3" style="text-align: center;">
                    <div>
                        <div style="background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%); color: white; width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; margin: 0 auto 1rem;">
                            üíº
                        </div>
                        <h4 style="margin-bottom: 0.5rem; color: #2c3e50;">Projetos Freelance</h4>
                        <p style="color: #666; font-size: 0.9rem;">Dispon√≠vel para projetos de desenvolvimento backend</p>
                    </div>
                    
                    <div>
                        <div style="background: linear-gradient(135deg, #3498db 0%, #2980b9 100%); color: white; width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; margin: 0 auto 1rem;">
                            ü§ù
                        </div>
                        <h4 style="margin-bottom: 0.5rem; color: #2c3e50;">Colabora√ß√µes</h4>
                        <p style="color: #666; font-size: 0.9rem;">Aberto a parcerias e projetos colaborativos</p>
                    </div>
                    
                    <div>
                        <div style="background: linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%); color: white; width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; margin: 0 auto 1rem;">
                            üéØ
                        </div>
                        <h4 style="margin-bottom: 0.5rem; color: #2c3e50;">Oportunidades</h4>
                        <p style="color: #666; font-size: 0.9rem;">Interessado em posi√ß√µes de desenvolvedor backend</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>

@code {
    private PortfolioVitorDuraes.Models.Contato contato = new();
    private FormularioContato formulario = new();
    private bool enviandoMensagem = false;
    private string mensagemStatus = string.Empty;
    private bool mensagemSucesso = false;

    protected override void OnInitialized()
    {
        contato = PortfolioService.GetContato();
    }

    private async Task EnviarMensagem()
    {
        enviandoMensagem = true;
        mensagemStatus = string.Empty;
        
        try
        {
            // Simular envio de email (aqui voc√™ integraria com um servi√ßo real)
            await Task.Delay(2000);
            
            // Simular sucesso
            mensagemSucesso = true;
            mensagemStatus = "Mensagem enviada com sucesso! Entrarei em contato em breve. üòä";
            
            // Limpar formul√°rio
            formulario = new FormularioContato();
        }
        catch (Exception)
        {
            mensagemSucesso = false;
            mensagemStatus = "Erro ao enviar mensagem. Tente novamente ou entre em contato diretamente pelo email. üòî";
        }
        finally
        {
            enviandoMensagem = false;
        }
    }

    public class FormularioContato
    {
        public string Nome { get; set; } = string.Empty;
        public string Email { get; set; } = string.Empty;
        public string Assunto { get; set; } = string.Empty;
        public string Mensagem { get; set; } = string.Empty;
    }
}

